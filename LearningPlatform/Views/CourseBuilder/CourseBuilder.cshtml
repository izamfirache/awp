@model LearningPlatform.Models.Courses.CourseBuilderPageModel

@{
    ViewBag.Title = "CourseBuilder";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm("AddNewCourse", "CourseBuilder", FormMethod.Post))
{
    <div class="course-builder-container">

        <div class="course-builder-container-header">
            <div class="course-builder-container-header-coursemetadata">
                <div class="course-builder-container-header-coursemetadata-title">
                    @Html.TextBoxFor(m => m.CurrentCourse.Name, new { @id = "courseTitle", placeholder = "Course title", @class = "form-control" })
                </div>
                <div class="course-builder-container-header-coursemetadata-description">
                    @Html.TextBoxFor(m => m.CurrentCourse.Description, new { @id = "courseDescription", placeholder = "Course description", @class = "form-control" })
                </div>
            </div>

            <div class="course-builder-container-header-buildoptions">
                <div class="course-builder-container-header-buildoptions-option"
                     onclick="AddParagraph()">
                    <p>Add new paragraph.</p>
                </div>
                <div class="course-builder-container-header-buildoptions-option"
                     onclick="AddVideo()">
                    <p>Add video.</p>
                </div>
                <div class="course-builder-container-header-buildoptions-option"
                     onclick="AddImage()">
                    <p>Add image.</p>
                </div>
            </div>
        </div>

        <div class="course-builder-container-coursecontent">

            @Html.TextAreaFor(m => m.CurrentCourse.ContentHtml,
           new {
               @placeholder = "Insert here the HTML code for the new course.",
               @id = "courseContentHtml",
               @class = "course-builder-container-contenthtml form-control"
           })
            
            <div onclick="ClearCourseHtmlContent()" class="course-builder-container-clearcontent">
                <p class="course-builder-container-clearcontent-text">Clear</p>
            </div>
        </div>

        <input class="course-builder-container-savecourse" type="submit" value="Save course" />
    </div>
}

@*@*TODO: MOVE THIS INTO A SEPARATE JS FILE*@
<script type="text/javascript">
    $(document).ready(function () {
        document.getElementById('courseContentHtml').value = '';
        document.getElementById('courseTitle').value = '';
        document.getElementById('courseDescription').value = '';
    });
    function AddParagraph() {
        //alert('Add new paragraph!');
        var harcodedParagraph = '<div style="width: 100%; height:250px; background-color:red;">\r\t<p>This is a new paragraph.</p>\r </div>\r';
        document.getElementById('courseContentHtml').value += harcodedParagraph;
        UpdateModelCurrentCourseContentHTML();
    }

    function AddImage() {
        //alert('Add new image!');
        var harcodedImage = '<div style="width: 100%; height:250px; background-color:blue;">\r\t<img src="https://upload.wikimedia.org/wikipedia/commons/c/c2/F_icon.svg" alt="Nature">\r </div>\r';
        document.getElementById('courseContentHtml').value += harcodedImage;
    }

    function AddVideo() {
        //alert('Add new video!');
        var harcodedVideo = '<div style="width: 100%; height:250px; background-color:green;">\r\t<iframe width="420" height="315" src="https://www.youtube.com/embed/XGSy3_Czz8k"></iframe>\r </div>\r';
        document.getElementById('courseContentHtml').value += harcodedVideo;
    }

    function ClearCourseHtmlContent() {
        document.getElementById('courseContentHtml').value = '';
    }
</script>
