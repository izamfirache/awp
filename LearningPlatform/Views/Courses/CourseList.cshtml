@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model LearningPlatform.Models.Courses.CoursesListPageModel

<div class="courses-list-page">

    <div class="search-courses-container">

        <div class="search-group">

            <button type="button" value="Add paragraph"
                    class="search-option-dropdown btn btn-primary"
                    onclick="location.href='@Url.Action("GetFilteredCoursesByDate", "Courses")'">
                Sort by date
            </button>

            @Html.TextBoxFor(m => Model.Filter, new { placeholder = "Search course", @id="search-course-textbox", @class = "search-course", @onchange = "onchangeevent();" })
        </div>
        </div>

    <div class="courses-container">

        <div class="class-list-header">
            <div class="courses-name-header">Title</div>
            <div class="courses-date-header">Publish Date</div>
        </div>

        <div class="courses-list">
            @foreach (LearningPlatform.Core.Entities.Course course in Model.Courses)
            {
                <hr class="course-separator" />

                <div class="course-row" onclick="location.href='@Url.Action("GetCourse", "Courses", new { courseId = course.Id})'">
                    <div class="course-title-container">@Html.DisplayFor(m => course.Name)</div>
                    <div class="course-date-container">@Html.DisplayFor(m => course.CreationDate)</div>
                </div>
            }
        </div>
    </div>
</div>

<script type="text/javascript">
    function onchangeevent() {
        var searchBy = document.getElementById('search-course-textbox').value;
        location.href = '@Url.Action("SearchCourses", "Courses")?filter=' + searchBy;
    }
</script>





